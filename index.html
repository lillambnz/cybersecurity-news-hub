<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cybersecurity News Hub</title>
    <meta name="description" content="Daily curated cybersecurity and breach news with search, filters, bookmarks, and offline support." />
    <meta name="theme-color" content="#0a0f1f" />
    <meta property="og:title" content="Cybersecurity News Hub" />
    <meta property="og:description" content="Stay ahead with curated cyber news, search, filters, and offline reading." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="./icons/icon-512.png" />
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Cybersecurity News Hub",
      "url": "/",
      "description": "Curated cybersecurity and breach news with search, filters, bookmarks and offline reading.",
      "inLanguage": "en"
    }
    </script>
    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="icon" href="./icons/icon-192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="./icons/icon-192.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/styles.css" />
    <script>
      (function(){
        const saved = localStorage.getItem('csnh-theme');
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = saved || (prefersDark ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', theme);
      })();
    </script>
  </head>
  <body>
    <a class="skip-link" href="#content">Skip to content</a>

    <header class="site-header">
      <div class="container">
        <div class="brand">
          <div class="logo" aria-hidden="true">üõ°Ô∏è</div>
          <div class="titles">
            <h1>Cybersecurity News Hub</h1>
            <p>Your daily digest of cyber threats and intelligence</p>
          </div>
        </div>
        <div class="actions">
          <button id="themeToggle" class="btn ghost" aria-label="Toggle theme" title="Toggle theme">üåô</button>
          <a id="bookmarksNav" class="btn" href="#bookmarks" aria-label="View bookmarks">Bookmarks</a>
        </div>
      </div>
      <nav class="tools container" aria-label="News tools">
        <div class="search">
          <input id="searchInput" type="search" placeholder="Search headlines, descriptions, sources..." autocomplete="off" aria-label="Search news" />
        </div>
        <div class="filters" id="sourceFilters" aria-label="Source filters"></div>
        <div class="sort">
          <label for="sortSelect" class="sr-only">Sort</label>
          <select id="sortSelect">
            <option value="newest">Newest first</option>
            <option value="oldest">Oldest first</option>
            <option value="source">Source A-Z</option>
          </select>
        </div>
      </nav>
    </header>

    <main id="content" class="container">
      <section id="highlights" aria-label="Trending highlights">
        <h2 class="section-title">Trending Now</h2>
        <div id="trendContainer" class="trend-grid"></div>
      </section>

      <section aria-label="News feed">
        <h2 class="section-title">Latest Articles</h2>
        <div id="news-container" class="card-grid">
          <div class="skeleton-grid" id="skeletonLoader"></div>
        </div>
        <div class="load-more">
          <button id="loadMoreBtn" class="btn" hidden>Load more</button>
        </div>
      </section>

      <section id="bookmarksSection" aria-label="Bookmarked articles" hidden>
        <h2 class="section-title">Your Bookmarks</h2>
        <div id="bookmarksContainer" class="card-grid-empty"></div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p>Aggregated from various RSS feeds. Content belongs to respective owners.</p>
        <p>Uses public CORS proxies to fetch RSS feeds in the browser.</p>
        <p>&copy; <span id="currentYear"></span> Cybersecurity News Hub ‚Ä¢ Created by Sher Abid</p>
      </div>
    </footer>

    <script type="module" src="./assets/app.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js').catch(()=>{}));
      }
    </script>
  </body>
  </html>
